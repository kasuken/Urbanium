@page "/settings"

<PageTitle>Settings</PageTitle>

<MudText Typo="Typo.h4" Class="mb-4">Settings</MudText>
<MudText Typo="Typo.subtitle1" Class="mb-4" Color="Color.Secondary">
    Configure simulation parameters and preferences.
</MudText>

<MudGrid>
    <MudItem xs="12" md="6">
        <MudPaper Class="pa-4" Elevation="2">
            <MudText Typo="Typo.h6" Class="mb-4">Simulation Settings</MudText>
            
            <MudStack Spacing="4">
                <MudNumericField @bind-Value="_tickRate" Label="Tick Rate (ms)" 
                    Variant="Variant.Outlined" Min="100" Max="5000" Step="100"
                    HelperText="Time between simulation ticks in milliseconds" />
                
                <MudNumericField @bind-Value="_maxTicks" Label="Max Ticks" 
                    Variant="Variant.Outlined" Min="100" Max="100000"
                    HelperText="Maximum number of ticks before auto-stop" />
                
                <MudSwitch @bind-Value="_autoSaveMetrics" Color="Color.Primary" Label="Auto-save Metrics" />
                
                <MudSwitch @bind-Value="_enableEvents" Color="Color.Primary" Label="Enable Event Logging" />
            </MudStack>
        </MudPaper>
    </MudItem>
    
    <MudItem xs="12" md="6">
        <MudPaper Class="pa-4" Elevation="2">
            <MudText Typo="Typo.h6" Class="mb-4">Display Settings</MudText>
            
            <MudStack Spacing="4">
                <MudSwitch @bind-Value="_showDetailedMetrics" Color="Color.Primary" Label="Show Detailed Metrics" />
                
                <MudSwitch @bind-Value="_compactTables" Color="Color.Primary" Label="Compact Tables" />
                
                <MudNumericField @bind-Value="_metricsHistoryLength" Label="Metrics History Length" 
                    Variant="Variant.Outlined" Min="50" Max="10000"
                    HelperText="Number of metric snapshots to retain" />
            </MudStack>
        </MudPaper>
    </MudItem>
</MudGrid>

<MudPaper Class="pa-4 mt-4" Elevation="2">
    <MudText Typo="Typo.h6" Class="mb-4">About Urbanium</MudText>
    
    <MudText Typo="Typo.body1" Class="mb-2">
        <strong>Version:</strong> 0.1.0 (Preview)
    </MudText>
    
    <MudText Typo="Typo.body1" Class="mb-4">
        Urbanium is a deterministic, agent-based city simulation designed to study emergent urban behavior.
        It models a city as a set of explicit systems and a population of constrained citizens whose decisions 
        are bounded, observable, and reproducible.
    </MudText>
    
    <MudDivider Class="my-4" />
    
    <MudText Typo="Typo.subtitle1" Class="mb-2">Core Principles:</MudText>
    <MudList T="string" Dense="true">
        <MudListItem Icon="@Icons.Material.Filled.Check">Deterministic by default</MudListItem>
        <MudListItem Icon="@Icons.Material.Filled.Check">World-first architecture</MudListItem>
        <MudListItem Icon="@Icons.Material.Filled.Check">Bounded agents</MudListItem>
        <MudListItem Icon="@Icons.Material.Filled.Check">Explainable behavior</MudListItem>
        <MudListItem Icon="@Icons.Material.Filled.Check">Metrics over narrative</MudListItem>
    </MudList>
    
    <MudDivider Class="my-4" />
    
    <MudText Typo="Typo.caption" Color="Color.Secondary">
        <em>"If you can't measure it, it doesn't exist."</em>
    </MudText>
</MudPaper>

<MudButton Variant="Variant.Filled" Color="Color.Primary" Class="mt-4" OnClick="SaveSettings">
    Save Settings
</MudButton>

@code {
    private int _tickRate = 1000;
    private int _maxTicks = 10000;
    private bool _autoSaveMetrics = false;
    private bool _enableEvents = true;
    private bool _showDetailedMetrics = true;
    private bool _compactTables = false;
    private int _metricsHistoryLength = 1000;
    
    private void SaveSettings()
    {
        // Settings would be persisted here
    }
}
